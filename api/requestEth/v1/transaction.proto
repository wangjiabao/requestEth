syntax = "proto3";

package api.requestEth.v1;

import "google/api/annotations.proto";

option go_package = "requestEth/api/requestEth/v1;v1";
option java_multiple_files = true;
option java_package = "dev.kratos.api.helloworld.v1";
option java_outer_classname = "HelloworldProtoV1";

service Transaction {
  rpc SendTransaction (SendTransactionRequest) returns (SendTransactionReply) {
    option (google.api.http) = {
      post: "/api/transaction"
      body: "send_body"
    };
  }

  rpc SendTransactionEth (SendTransactionEthRequest) returns (SendTransactionEthReply) {
    option (google.api.http) = {
      post: "/api/transaction_eth"
      body: "send_body"
    };
  }

  rpc Transaction (TransactionRequest) returns (TransactionReply) {
    option (google.api.http) = {
      get: "/api/transaction/{tx}"
    };
  }

  rpc EthBalance (EthBalanceRequest) returns (EthBalanceReply) {
    option (google.api.http) = {
      get: "/api/eth_balance"
    };
  }

  rpc GenerateKey (GenerateKeyRequest) returns (GenerateKeyReply) {
    option (google.api.http) = {
      get: "/api/generate_key"
    };
  }

  rpc TokenBalance (TokenBalanceRequest) returns (TokenBalanceReply) {
    option (google.api.http) = {
      get: "/api/usdt_balance"
    };
  }

  rpc VerifySig (VerifySigRequest) returns (VerifySigReply) {
    option (google.api.http) = {
      get: "/api/verify_sig"
    };
  }

  rpc GetReserves (GetReservesRequest) returns (GetReservesReply) {
    option (google.api.http) = {
      get: "/api/get_reserves"
    };
  }

  rpc GetAll (GetAllRequest) returns (GetAllReply) {
    option (google.api.http) = {
      get: "/api/get_all"
    };
  }

  rpc GetAllTwo (GetAllTwoRequest) returns (GetAllTwoReply) {
    option (google.api.http) = {
      get: "/api/get_all_two"
    };
  }

  rpc GetArray (GetArrayRequest) returns (GetArrayReply) {
    option (google.api.http) = {
      get: "/api/get_array"
    };
  }

  rpc GetLpByOrderId (GetLpByOrderIdRequest) returns (GetLpByOrderIdReply) {
    option (google.api.http) = {
      get: "/api/get_lp"
    };
  }

  rpc GetBuyByOrderId (GetBuyByOrderIdRequest) returns (GetBuyByOrderIdReply) {
    option (google.api.http) = {
      get: "/api/get_buy"
    };
  }

  rpc GetUserLp (GetUserLpRequest) returns (GetUserLpReply) {
    option (google.api.http) = {
      get: "/api/get_user_lp"
    };
  }

  rpc GetDailyFee (GetDailyFeeRequest) returns (GetDailyFeeReply) {
    option (google.api.http) = {
      get: "/api/get_daily_fee"
    };
  }

  rpc AddLiquidity (AddLiquidityRequest) returns (AddLiquidityReply) {
    option (google.api.http) = {
      post: "/api/add_liquidity"
      body: "send_body"
    };
  }

  rpc RemoveLiquidity (RemoveLiquidityRequest) returns (RemoveLiquidityReply) {
    option (google.api.http) = {
      post: "/api/remove_liquidity"
      body: "send_body"
    };
  }

  rpc BuyAICAT (BuyAICATRequest) returns (BuyAICATReply) {
    option (google.api.http) = {
      post: "/api/buy"
      body: "send_body"
    };
  }

  rpc WithdrawAICAT (WithdrawAICATRequest) returns (WithdrawAICATReply) {
    option (google.api.http) = {
      post: "/api/withdraw"
      body: "send_body"
    };
  }

  rpc SendAICAT (SendAICATRequest) returns (SendAICATReply) {
    option (google.api.http) = {
      post: "/api/send_aicat"
      body: "send_body"
    };
  }

  rpc GetBuyAICATByOrderId (GetBuyAICATByOrderIdRequest) returns (GetBuyAICATByOrderIdReply) {
    option (google.api.http) = {
      get: "/api/get_buy_aicat_by_order_id"
    };
  }

  rpc AddWhite (AddWhiteRequest) returns (AddWhiteReply) {
    option (google.api.http) = {
      get: "/api/add_white"
    };
  }

  rpc GetBoxAllLength (GetBoxAllRequest) returns (GetBoxAllReply) {
    option (google.api.http) = {
      get: "/api/get_box_all"
    };
  }

  rpc GetBoxNew (GetBoxNewRequest) returns (GetBoxNewReply) {
    option (google.api.http) = {
      get: "/api/get_box_new"
    };
  }

  rpc GetBoxOpen (GetBoxOpenRequest) returns (GetBoxOpenReply) {
    option (google.api.http) = {
      get: "/api/get_box_open"
    };
  }

  rpc SetReward (SetRewardRequest) returns (SetRewardReply) {
    option (google.api.http) = {
      post: "/api/set_reward"
      body: "send_body"
    };
  }

  rpc SetRewardTwo (SetRewardRequest) returns (SetRewardReply) {
    option (google.api.http) = {
      post: "/api/set_reward_two"
      body: "send_body"
    };
  }

  rpc GetBoxRewardEvent (GetBoxRewardEventRequest) returns (GetBoxRewardEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_reward_event"
    };
  }

  rpc GetExchangeEvent (GetExchangeEventRequest) returns (GetExchangeEventReply) {
    option (google.api.http) = {
      get: "/api/get_exchange_event"
    };
  }

  rpc GetBuyEvent (GetBuyEventRequest) returns (GetBuyEventReply) {
    option (google.api.http) = {
      get: "/api/get_buy_event"
    };
  }

  rpc GetSellEvent (GetSellEventRequest) returns (GetSellEventReply) {
    option (google.api.http) = {
      get: "/api/get_sell_event"
    };
  }

  rpc GetBoxBuyEvent (GetBoxBuyEventRequest) returns (GetBoxBuyEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_buy_event"
    };
  }

  rpc GetBoxMintEvent (GetBoxMintEventRequest) returns (GetBoxMintEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_mint_event"
    };
  }

  rpc GetBoxMintEventFix (GetBoxMintEventRequest) returns (GetBoxMintEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_mint_event_fix"
    };
  }

  rpc GetBoxListEvent (GetBoxListEventRequest) returns (GetBoxListEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_list_event"
    };
  }

  rpc GetBoxUnListEvent (GetBoxUnListEventRequest) returns (GetBoxUnListEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_unlist_event"
    };
  }

  rpc GetBoxOpenEvent (GetBoxOpenEventRequest) returns (GetBoxOpenEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_open_event"
    };
  }

  rpc GetBoxTransferEvent (GetBoxTransferEventRequest) returns (GetBoxTransferEventReply) {
    option (google.api.http) = {
      get: "/api/get_box_transfer_event"
    };
  }

  rpc GetUserREvent (GetUserREventRequest) returns (GetUserREventReply) {
    option (google.api.http) = {
      get: "/api/get_user_r_event"
    };
  }

  rpc GetExchangeList (GetExchangeListRequest) returns (GetExchangeListReply) {
    option (google.api.http) = {
      get: "/api/get_exchange_list"
    };
  }

  rpc GetBuyList (GetBuyListRequest) returns (GetBuyListReply) {
    option (google.api.http) = {
      get: "/api/get_buy_list"
    };
  }

  rpc GetRewardList (GetRewardListRequest) returns (GetRewardListReply) {
    option (google.api.http) = {
      get: "/api/get_reward_list"
    };
  }

  rpc GetBuyBoxList (GetBuyBoxListRequest) returns (GetBuyBoxListReply) {
    option (google.api.http) = {
      get: "/api/get_buy_box_list"
    };
  }

  rpc UpdateBox (UpdateBoxRequest) returns (UpdateBoxReply) {
    option (google.api.http) = {
      get: "/api/update_box"
    };
  }

  rpc GetAddressBox (GetAddressBoxRequest) returns (GetAddressBoxReply) {
    option (google.api.http) = {
      get: "/api/get_address_box"
    };
  }

  rpc GetSellBoxList (GetSellBoxListRequest) returns (GetSellBoxListReply) {
    option (google.api.http) = {
      get: "/api/get_sell_box_list"
    };
  }

  rpc GetMarketList (GetMarketListRequest) returns (GetMarketListReply) {
    option (google.api.http) = {
      get: "/api/get_market_box_list"
    };
  }

  rpc GetAllInfo (GetAllInfoRequest) returns (GetAllInfoReply) {
    option (google.api.http) = {
      get: "/api/get_all_info"
    };
  }
}

message GetReservesRequest {
  string pair = 1;
}

message GetReservesReply {
  string reservesOne = 1;
  string reservesTwo = 2;
}

message GetAllRequest {
}

message GetAllReply {
  string buyArrayLength = 1;
  string reqLpArrayLength = 2;
  string withdrawArrayLength = 3;
}

message GetAllTwoRequest {
  string contract = 1;
}

message GetAllTwoReply {
  string buyArrayLength = 1;
}

message GetArrayRequest {
  string reqType = 1;
  string contract = 4;
  string start = 2;
  string end = 3;
}

message GetArrayReply {
  repeated List list = 1;
  message List {
    string orderId = 1;
  }
}

message GetBoxAllRequest {

}

message GetBoxAllReply {
  string newLength = 1;
  string openLength = 2;
}

message GetBoxNewRequest {
  string start = 2;
  string end = 3;
}

message GetBoxNewReply {
  repeated List list = 1;
  message List {
    string tokenId = 1;
    string price = 2;
    uint64 openedAt = 3;
    uint64 mintAt = 4;
    string reward = 5;
    uint64 rewardAt = 6;
  }
}

message GetBoxOpenRequest {
  string start = 2;
  string end = 3;
}

message GetBoxOpenReply {
  repeated List list = 1;
  message List {
    string tokenId = 1;
    string price = 2;
    uint64 openedAt = 3;
    uint64 mintAt = 4;
    string reward = 5;
    uint64 rewardAt = 6;
  }
}


message GetBuyByOrderIdRequest {
  string orderId = 1;
  string contract = 2;
}

message GetBuyByOrderIdReply {
  string usdtArray = 2; // 使用u
  string catArray = 3; // 获得b
}

message GetLpByOrderIdRequest {
  string orderId = 1;
}

message GetLpByOrderIdReply {
  string lpArray = 1; // 添加时lp获得，移除时lp使用
  string lpUsdtArray = 2; // 添加时使用u，移除时释放u,
  string lpCatArray = 3; // 添加时使用b，移除时释放b,
}

message GetUserLpRequest {
  string address = 1;
}

message GetUserLpReply {
  string lpAmount = 1; // 用户此刻lp
  string lpAmountTotal = 2; // 全局lp
}

message GetDailyFeeRequest {
  string ts = 1;
}

message GetDailyFeeReply {
  string ammount = 1;
}

message AddLiquidityRequest {
  message SendBody{
    string orderId = 1;
    string user = 2;
    string amountUsdt = 3;
    string amountAicat = 4;
  }

  SendBody send_body = 1;
}

message AddLiquidityReply {
  string res = 1;
}

message RemoveLiquidityRequest {
  message SendBody{
    string orderId = 1;
    string user = 2;
    string liquidityAmount = 3;
  }

  SendBody send_body = 1;
}

message RemoveLiquidityReply {
  string res = 1;
}

message BuyAICATRequest {
  message SendBody{
    string orderId = 1;
    string usdtAmount = 2;
    string contract = 3;
  }

  SendBody send_body = 1;
}

message BuyAICATReply {
  string res = 1;
}

message WithdrawAICATRequest {
  message SendBody{
    string token = 1;
    string amount = 2;
    string address = 3;
    string contract = 4;
  }

  SendBody send_body = 1;
}

message WithdrawAICATReply {
  string res = 1;
}

message SendAICATRequest {
  message SendBody{
  }

  SendBody send_body = 1;
}

message SendAICATReply {
  string res = 1;
}

message SetRewardRequest {
  message SendBody{
    string tokenId = 1;
    string reward = 2;
  }

  SendBody send_body = 1;
}

message SetRewardReply {
  string res = 1;
}

message GetBuyAICATByOrderIdRequest {
  string orderId = 1;
}

message GetBuyAICATByOrderIdReply {
  string amount = 3;
}

message AddWhiteRequest {
}

message AddWhiteReply {
  string res = 1;
}

message VerifySigRequest {
  string sign = 2;
  string content = 1;
}

message VerifySigReply {
  bool res = 1;
  string address = 2;
}

message TokenBalanceRequest {
  string token = 2;
  string address = 1;
}

message TokenBalanceReply {
  string balance = 1;
  string err = 2;
}

message SendTransactionRequest {
  message SendBody{
    string privateKey = 1;
    string toAddr = 2;
    string token = 4;
    string amount = 3;
  }

  SendBody send_body = 1;
}

message SendTransactionReply {
  string tx = 1;
  string err = 2;
}

message SendTransactionEthRequest {
  message SendBody{
    string privateKey = 1;
    string toAddr = 2;
    string amount = 3;
  }

  SendBody send_body = 1;
}

message SendTransactionEthReply {
  string tx = 1;
  string err = 2;
}

message EthBalanceRequest {
  string address = 1;
}

message EthBalanceReply {
  string balance = 1;
  string err = 2;
}


message TransactionRequest {
  string tx = 1;
}

message TransactionReply {
  uint64 status = 1;
}

message GenerateKeyRequest {
}

message GenerateKeyReply {
  string address = 1;
  string privateKey = 2;
  string err = 3;
}

message GetBoxRewardEventRequest {
}

message GetBoxRewardEventReply {
}

message GetExchangeEventRequest {
}

message GetExchangeEventReply {
}

message GetBuyEventRequest {
}

message GetBuyEventReply {
}

message GetSellEventRequest {
}

message GetSellEventReply {
}

message GetBoxBuyEventRequest {
}

message GetBoxBuyEventReply {
}

message GetBoxMintEventRequest {
}

message GetBoxMintEventReply {
}

message GetBoxListEventRequest {
}

message GetBoxListEventReply {
}

message GetBoxUnListEventRequest {
}

message GetBoxUnListEventReply {
}

message GetBoxOpenEventRequest {
}

message GetBoxOpenEventReply {
}

message GetBoxTransferEventRequest {
}

message GetBoxTransferEventReply {
}

message GetUserREventRequest {
}

message GetUserREventReply {
}


message GetExchangeListRequest {
  uint64 start = 1;
  uint64 end = 2;
}

message GetExchangeListReply {
  repeated List list = 1;
  message List {
    uint64 blockTime = 1;
    double price = 2;
  }
}

message GetBuyListRequest {
  uint64 start = 1;
  uint64 end = 2;
}

message GetBuyListReply {
  repeated List list = 1;
  message List {
    uint64 blockTime = 1;
    double price = 2;
    double usdtUse = 3;
    double ausdGrossOut = 4;
  }
}

message GetRewardListRequest {
  string address = 3;
  uint64 page = 1;
  uint64 reason = 2;
}

message GetRewardListReply {
  uint64 count = 2; // 总数，每页20
  repeated List list = 1;
  message List {
    string user = 1;
    uint64 reason = 2; // 1盲盒收益 2L1收益 3L2收益 4Top收益 5项目方收益
    double amount = 3; // 金额
    uint64 blockTime = 4; // 时间
  }
}

message GetBuyBoxListRequest {
  string address = 3;
  uint64 page = 1;
}

message GetBuyBoxListReply {
  uint64 count = 2; // 总数，每页20
  repeated List list = 1;
  message List {
    string user = 1;
    uint64 tokenId = 2; // tokenId
    double priceUsdt = 3; // 金额
    double feeUsdt = 6; // 手续费u
    double feeB = 5; // 手续费b
    uint64 blockTime = 4; // 时间
  }
}

message GetSellBoxListRequest {
  string address = 3;
  uint64 page = 1;
}

message GetSellBoxListReply {
  uint64 count = 2; // 总数，每页10
  repeated List list = 1;
  message List {
    uint64 tokenId = 2; // tokenId
    double priceUsdt = 3; // 售出金额
    double feeUsdt = 6; // 手续费u
    double feeB = 5; // 手续费b
    uint64 blockTime = 4; // 时间
  }
}

message UpdateBoxRequest {
}

message UpdateBoxReply {
}

message GetAddressBoxRequest {
  uint64 start = 7;
  uint64 end = 8;
  string address = 3;
  uint64 page = 1;
  uint64 num = 2; // 0未上架，1上架中，2全部
  uint64 numTwo = 5; // 0全部，1表示20, 2表示50, 3表示100
  uint64 numThree = 4; // 0倒叙，1正序
  uint64 openStatus = 6;
}

message GetAddressBoxReply {
  uint64 count = 2; // 总数，每页10
  repeated List list = 1;
  message List {
    uint64 tokenId = 2; // tokenId
    double priceUsdt = 3; // 金额
    uint64 tier = 7; // 1表示20 ，2表示50，3表示100
    double priceUsdtNow = 4; // 目前增长金额
    uint64 blockTime = 5; // 铸造时间
    uint64 listTime = 6; // 上架时间
    uint64 openStatus = 8;
    uint64 openTime = 9;
    string minter = 10;
  }
}

message GetMarketListRequest {
  uint64 page = 1;
  uint64 numTwo = 5; // 0全部，1表示20, 2表示50, 3表示100
  uint64 num = 4; // 时间，0倒叙，1顺序
  uint64 numThree = 3; // 价格，0倒叙，1顺序
}

message GetMarketListReply {
  uint64 count = 2; // 总数，每页10
  repeated List list = 1;
  message List {
    uint64 tokenId = 2; // tokenId
    double priceUsdt = 3; // 金额
    uint64 tier = 7; // 1表示20 ，2表示50，3表示100
    double priceUsdtNow = 4; // 目前增长金额
    uint64 blockTime = 5; // 铸造时间
    uint64 listTime = 6; // 上架时间
  }
}

message GetAllInfoRequest {
  uint64 start = 1;
  uint64 end = 2;
}


message GetAllInfoReply {
  uint64 userCount = 1; // 用户注册总数
  uint64 todayUserCount = 2; // 今日新增用户总数
  uint64 todayMintedCount = 3; // 今日铸造量
  string todayMintedSum = 4; // 今日铸造金额
  uint64 mintedCount = 5; // 总铸造量
  string mintedSum = 6; // 总铸金额

  uint64 mintedCountOne = 7; // 总铸造量1档
  string mintedSumOne = 8; // 总铸金额1档

  uint64 mintedCountTwo = 9; // 总铸造量2档
  string mintedSumTwo = 10; // 总铸金额2档

  uint64 mintedCountThree = 11; // 总铸造量3档
  string mintedSumThree = 12; // 总铸金额3档

  uint64 buyCount = 13; // 历史销售总量
  string buySum = 14; // 历史销售金额

  uint64 todayBuyCount = 15; // 今日历史销售总量
  string todayBuySum = 16; // 今日历史销售金额

  string openReward = 17; // 盲盒总盈利
}