"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decodeBase64 = exports.encodeBase64 = exports.decodeUTF8 = exports.encodeUTF8 = void 0;
/// <reference lib="dom"/>
const array_1 = require("./array");
const validate_1 = require("./validate");
const { fromCharCode } = String;
const textEncoder = new TextEncoder();
const textDecoder = new TextDecoder();
function encodeUTF8(a) {
    return textDecoder.decode(a);
}
exports.encodeUTF8 = encodeUTF8;
function decodeUTF8(s) {
    return textEncoder.encode(s);
}
exports.decodeUTF8 = decodeUTF8;
function encodeBase64(a) {
    return btoa(fromCharCode.apply(null, a));
}
exports.encodeBase64 = encodeBase64;
function decodeBase64(s) {
    (0, validate_1.validateBase64)(s);
    const d = atob(s), b = new array_1.ByteArray(d.length);
    for (let i = 0; i < d.length; i++) {
        b[i] = d.charCodeAt(i);
    }
    return b;
}
exports.decodeBase64 = decodeBase64;
//# sourceMappingURL=convert.js.map