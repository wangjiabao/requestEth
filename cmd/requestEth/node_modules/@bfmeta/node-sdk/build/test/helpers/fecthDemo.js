"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FecthDemo = void 0;
const tslib_1 = require("tslib");
const http = tslib_1.__importStar(require("http"));
const helpers_1 = require("../../src/helpers");
class FecthDemo {
    get(url) {
        return new Promise((resolve, reject) => {
            const req = http.get(url, async (res) => {
                const body = await (0, helpers_1.parsePostRequestParameter)(res);
                return resolve(body);
            });
            req.setTimeout(10000, () => {
                return reject("timeout");
            });
            req.on("error", (e) => {
                return reject(e);
            });
        });
    }
    post(url, data) {
        return new Promise((resolve, reject) => {
            const req = http.request(url, { method: "POST", headers: { "content-type": "application/json" } }, async (res) => {
                const body = await (0, helpers_1.parsePostRequestParameter)(res);
                return resolve(body);
            });
            req.setTimeout(10000, () => {
                return reject("timeout");
            });
            req.on("error", (e) => {
                return reject(e);
            });
            req.write(JSON.stringify(data));
            req.end();
        });
    }
}
exports.FecthDemo = FecthDemo;
