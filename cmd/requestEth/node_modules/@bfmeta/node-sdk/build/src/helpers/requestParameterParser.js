"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parsePostRequestParameter = void 0;
function parsePostRequestParameter(imcomingMessage) {
    return new Promise((resolve, reject) => {
        const buffers = [];
        imcomingMessage.on("error", (error) => {
            return reject(error.message);
        });
        imcomingMessage.on("data", (chunk) => buffers.push(chunk));
        imcomingMessage.on("end", () => {
            const requestString = Buffer.concat(buffers).toString();
            try {
                return resolve(JSON.parse(requestString));
            }
            catch (e) {
                return reject(`parse parameter error`);
            }
        });
    });
}
exports.parsePostRequestParameter = parsePostRequestParameter;
